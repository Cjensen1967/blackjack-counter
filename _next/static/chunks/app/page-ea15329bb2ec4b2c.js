(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2948:(e,t,r)=>{"use strict";r.d(t,{default:()=>C});var s=r(5155),a=r(2115);let n=["H","D","C","S"],l=["2","3","4","5","6","7","8","9","T","J","Q","K","A"];var c=r(6766),i=r(9434);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});o.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";let u=e=>{switch(e){case"H":return"hearts";case"D":return"diamonds";case"C":return"clubs";case"S":return"spades";default:return""}},f=e=>{switch(e){case"A":return"ace";case"K":return"king";case"Q":return"queen";case"J":return"jack";case"T":return"10";default:return e.toLowerCase()}};function m(e){let{card:t}=e,r=u(t.suit),a=f(t.rank),n="".concat(r,"_").concat(a,".svg"),l="T"===t.rank?"10":"A"===t.rank?"Ace":"K"===t.rank?"King":"Q"===t.rank?"Queen":"J"===t.rank?"Jack":t.rank,i="H"===t.suit?"Hearts":"D"===t.suit?"Diamonds":"C"===t.suit?"Clubs":"Spades",d="".concat(l," of ").concat(i);return(0,s.jsx)(o,{className:"w-[72px] h-[100px] shadow-md overflow-hidden bg-card flex items-center justify-center","data-ai-hint":"playing card","aria-label":d,children:(0,s.jsx)(c.default,{src:"/images/cards/".concat(n),alt:d,width:72,height:100,className:"object-contain w-full h-full",priority:!0})})}var x=r(9708);let h=(0,r(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:l=!1,...c}=e,o=l?x.DX:"button";return(0,s.jsx)(o,{className:(0,i.cn)(h({variant:a,size:n,className:r})),ref:t,...c})});g.displayName="Button";let p=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});p.displayName="Input";var v=r(8127),b=r(4371),w=r(7554),y=r(6936),N=r(8027),j=r(7280);function k(){let{theme:e,setTheme:t}=(0,j.D)();return(0,s.jsxs)(g,{variant:"ghost",size:"icon",onClick:()=>t("dark"===e?"light":"dark"),title:"dark"===e?"Switch to light mode":"Switch to dark mode",children:["dark"===e?(0,s.jsx)(y.A,{className:"h-5 w-5"}):(0,s.jsx)(N.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}function C(){let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(0),[u,f]=(0,a.useState)(""),[x,h]=(0,a.useState)(null),[y,N]=(0,a.useState)(!1),[j,C]=(0,a.useState)(0),[S,T]=(0,a.useState)(!0),D=(0,a.useRef)(null),[A,R]=(0,a.useState)(1e4),[_]=(0,a.useState)(2e3),[E]=(0,a.useState)(200),I=(0,a.useCallback)(()=>{D.current&&(clearTimeout(D.current),D.current=null);let e=(function(e){let t=[...e];for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t})(function(){let e=[];for(let t of n)for(let r of l)e.push({suit:t,rank:r,id:"".concat(r).concat(t)});return e}()).slice(0,12);t(e),c(function(e){let t=0;for(let r of e){let e=r.rank;["2","3","4","5","6"].includes(e)?t+=1:["T","J","Q","K","A"].includes(e)&&(t-=1)}return t}(e)),f(""),h(null),N(!1),T(!0),C(Date.now()),(null==x?void 0:x.type)==="correct"&&A>_&&R(e=>Math.max(e-E,_))},[x,A,_,E]);return(0,a.useEffect)(()=>(S&&e.length>0&&0!==j&&(D.current=setTimeout(()=>{T(!1)},A)),()=>{D.current&&(clearTimeout(D.current),D.current=null)}),[j,S,e.length,A]),(0,a.useEffect)(()=>{I()},[I]),(0,s.jsxs)("div",{className:"container mx-auto max-w-3xl p-4 sm:p-8 flex flex-col items-center space-y-6",children:[(0,s.jsxs)("header",{className:"text-center w-full flex justify-between items-start pt-4 px-4 sm:px-0",children:[(0,s.jsx)("div",{className:"flex-1"})," ",(0,s.jsxs)("div",{className:"flex-grow text-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-primary",children:"CountSight Trainer"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1 text-lg",children:"Sharpen your Hi-Lo card counting skills!"})]}),(0,s.jsx)("div",{className:"flex-1 flex justify-end",children:(0,s.jsx)(k,{})})]}),(0,s.jsx)(o,{className:"w-full shadow-xl bg-casino-green-felt text-casino-green-felt-foreground",children:(0,s.jsxs)(d,{className:"p-4 sm:p-6 flex flex-col items-center space-y-4 min-h-[300px] justify-center",children:[0===e.length&&0===j&&(0,s.jsx)("p",{className:"text-lg",children:"Loading drill..."}),S&&e.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 sm:gap-3 justify-items-center animate-fadeIn",role:"region","aria-label":"Displayed cards",children:e.map(e=>(0,s.jsx)(m,{card:e},e.id))},j),!S&&!y&&e.length>0&&(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),""===u||isNaN(parseInt(u,10))){h({type:"incorrect",message:"Please enter a valid number."}),N(!0);return}let t=parseInt(u,10);N(!0),t===r?h({type:"correct",message:"Correct!"}):h({type:"incorrect",message:"Incorrect. The correct count is ".concat(r,".")})},className:"flex flex-col sm:flex-row items-stretch space-y-3 sm:space-y-0 sm:space-x-3 w-full max-w-sm animate-fadeIn",children:[(0,s.jsx)(p,{type:"number",value:u,onChange:e=>f(e.target.value),placeholder:"Enter Hi-Lo count",className:"text-center text-lg h-12 flex-grow text-black dark:text-black","aria-label":"Hi-Lo count input",required:!0,autoFocus:!0}),(0,s.jsx)(g,{type:"submit",className:"w-full sm:w-auto h-12 text-base",children:"Check Count"})]}),!S&&y&&x&&e.length>0&&(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center space-x-2 text-lg p-3 rounded-md w-full max-w-sm justify-center animate-fadeIn min-h-[3rem]","correct"===x.type?"bg-accent/20 text-green-700 dark:text-green-400":"bg-destructive text-black"),role:"alert",children:["correct"===x.type?(0,s.jsx)(v.A,{className:"h-6 w-6 text-green-600 dark:text-green-500 shrink-0"}):(0,s.jsx)(b.A,{className:"h-6 w-6 text-destructive-foreground shrink-0"}),(0,s.jsx)("span",{className:"text-center",children:x.message})]})]})}),(0,s.jsxs)(g,{onClick:I,variant:"outline",className:"w-full sm:w-auto text-base py-3 px-6 h-12",children:[(0,s.jsx)(w.A,{className:"mr-2 h-5 w-5"})," New Drill"]}),(0,s.jsx)(g,{onClick:()=>R(1e4),variant:"ghost",className:"text-sm text-muted-foreground hover:text-foreground",title:"Reset timer to 10 seconds",children:"Reset Timer"})]})}},4977:(e,t,r)=>{Promise.resolve().then(r.bind(r,2948))},7280:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,ThemeProvider:()=>l});var s=r(5155),a=r(2115);let n=(0,a.createContext)(void 0);function l(e){let{children:t,defaultTheme:r="system"}=e,[l,c]=(0,a.useState)(()=>localStorage.getItem("theme")||r);return(0,a.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===l){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(l)},[l]),(0,s.jsx)(n.Provider,{value:{theme:l,setTheme:e=>{localStorage.setItem("theme",e),c(e)}},children:t})}let c=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2596),a=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[668,942,441,684,358],()=>t(4977)),_N_E=e.O()}]);